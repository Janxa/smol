{"ast":null,"code":"import _slicedToArray from\"/home/janxa/Bureau/Projets/Smol/smol/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import{ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import React,{useEffect,useState}from\"react\";import Main from\"./components/Main.jsx\";import Header from\"./components/Header\";import Footer from\"./components/Footer\";import Sidebar from\"./components/Sidebar\";import Popup from\"./components/popups/Popup\";import CookiesBanner from\"./components/Cookies\";import{useCookies,Cookies}from\"react-cookie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useCookies=useCookies([]),_useCookies2=_slicedToArray(_useCookies,2),cookies=_useCookies2[0],setCookie=_useCookies2[1];var _useState=useState(cookies.url_list?false:true),_useState2=_slicedToArray(_useState,2),cookieVisible=_useState2[0],setCookieVisible=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),sidebarVisible=_useState4[0],setSidebarVisible=_useState4[1];var _useState5=useState({content:null,visible:false}),_useState6=_slicedToArray(_useState5,2),popup=_useState6[0],setPopup=_useState6[1];var _useState7=useState(cookies.url_list||[]),_useState8=_slicedToArray(_useState7,2),url_list=_useState8[0],setUrl_list=_useState8[1];useEffect(function(){if(Object.keys(cookies).length>0){setCookie(\"url_list\",url_list,{path:\"/\"});}},[url_list]);function CreateCookie(url_list){setCookie(\"url_list\",url_list,{path:\"/\"});setCookieVisible(false);}function RefuseCookie(){setCookieVisible(false);}function OpenPopup(content){// setPopup({content:content,visible:true})\nif(popup.content==content){return;}if(popup.visible){setTimeout(function(){return setPopup({content:content,visible:true});},400);}else{setPopup({content:content,visible:true});};}function ClosePopup(){setPopup({content:null,visible:false});}function ToggleSidebar(){if(sidebarVisible){setSidebarVisible(false);}else{setSidebarVisible(true);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-screen bg-stone-600 \",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(Header,{ToggleSidebar:ToggleSidebar,sidebarVisible:sidebarVisible}),/*#__PURE__*/_jsx(Sidebar,{url_list:url_list,setUrl_list:setUrl_list,visible:sidebarVisible,cookieVisible:cookieVisible}),/*#__PURE__*/_jsx(Main,{url_list:url_list,setUrl_list:setUrl_list}),/*#__PURE__*/_jsx(Footer,{OpenPopup:OpenPopup}),popup.visible&&/*#__PURE__*/_jsx(Popup,{Content:popup.content,visible:popup.visible,ClosePopup:ClosePopup}),cookieVisible&&/*#__PURE__*/_jsx(CookiesBanner,{RefuseCookie:RefuseCookie,CreateCookie:CreateCookie,url_list:url_list})]});}export default App;","map":{"version":3,"names":["ToastContainer","React","useEffect","useState","Main","Header","Footer","Sidebar","Popup","CookiesBanner","useCookies","Cookies","App","cookies","setCookie","url_list","cookieVisible","setCookieVisible","sidebarVisible","setSidebarVisible","content","visible","popup","setPopup","setUrl_list","Object","keys","length","path","CreateCookie","RefuseCookie","OpenPopup","setTimeout","ClosePopup","ToggleSidebar"],"sources":["/home/janxa/Bureau/Projets/Smol/smol/client/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport {  ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport React, { useEffect, useState } from \"react\";\nimport Main from \"./components/Main.jsx\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Sidebar from \"./components/Sidebar\";\nimport Popup from \"./components/popups/Popup\";\nimport CookiesBanner from \"./components/Cookies\";\nimport { useCookies,Cookies } from \"react-cookie\";\nfunction App() {\n\n\n  const [cookies, setCookie] = useCookies([]);\n  const [cookieVisible,setCookieVisible]= useState(cookies.url_list?false:true)\n  const [sidebarVisible,setSidebarVisible]=useState(false)\n  const [popup, setPopup] = useState({  content: null,visible: false});\n  const [ url_list, setUrl_list]= useState(((cookies.url_list) || [] ));\n\n  useEffect(()=>{\n    if (Object.keys(cookies).length > 0) {\n      setCookie(\"url_list\", url_list, {\n        path: \"/\",\n      });\n    }\n  },[url_list]\n    )\n  function CreateCookie(url_list) {\n    setCookie(\"url_list\", url_list, {\n      path: \"/\",\n    });\n    \n    setCookieVisible(false);\n  }\n  function RefuseCookie(){\n    setCookieVisible(false);\n  }\n  \n  function OpenPopup(content) {\n    // setPopup({content:content,visible:true})\n    if (popup.content==content){\n      return\n    }\n     if (popup.visible){\n       setTimeout(()=>setPopup({content:content,visible:true}),400);}\n     else {setPopup({content:content,visible:true})};\n  }\n   \n  function ClosePopup(){\n   setPopup({content:null,visible:false});\n  }\n  function ToggleSidebar(){\n    if (sidebarVisible) {\n      setSidebarVisible(false)\n    }\n    else{\n      setSidebarVisible(true)\n    }\n  }\n  return (\n    <div className=\"flex flex-col h-screen bg-stone-600 \">\n      <ToastContainer />\n      <Header ToggleSidebar={ToggleSidebar} sidebarVisible={sidebarVisible}/>\n\n      <Sidebar\n        url_list={url_list}\n        setUrl_list={setUrl_list}\n        visible={sidebarVisible}\n        cookieVisible={cookieVisible}\n      />\n\n      <Main \n      url_list={url_list}\n      setUrl_list={setUrl_list}\n    \n      />\n      \n      <Footer OpenPopup={OpenPopup} />\n\n      {popup.visible &&\n      <Popup \n      Content={popup.content}\n      visible={popup.visible}\n      ClosePopup={ClosePopup}\n      />\n}\n      \n      { cookieVisible && (\n          <CookiesBanner\n            RefuseCookie={RefuseCookie}\n            CreateCookie={CreateCookie}\n            url_list={url_list}\n          />\n        )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}