{"ast":null,"code":"var _jsxFileName = \"/home/janxa/Bureau/Projets/Smol/smol/client/src/components/popups/Popup.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Popup(props) {\n  _s();\n  const {\n    ClosePopup,\n    Content,\n    visible\n  } = props;\n  const PopupRef = useRef(null);\n  const OpacityRef = useRef(null);\n  useEffect(() => {\n    function handleClickOutside(event) {\n      console.log(PopupRef);\n      if (PopupRef.current && !PopupRef.current.contains(event.target)) {\n        animatedClosePopup();\n      }\n    }\n    document.addEventListener(\"click\", handleClickOutside, {\n      capture: true\n    });\n    return () => {\n      console.log(\"unmounting\");\n      document.removeEventListener(\"click\", handleClickOutside, {\n        capture: true\n      });\n    };\n  }, [PopupRef]);\n  useEffect(() => {\n    if (visible) {\n      setTimeout(() => (PopupRef.current.className = \"scale-100  rounded-lg p-4 top-1/2 left-1/2 w-5/6 xl:w-4/6 2xl:w-7/12 absolute z-50  -translate-x-1/2 -translate-y-1/2 absolute bg-stone-200 transition-transform ease-in duration-300\", OpacityRef.current.className = \"h-screen w-screen bg-gray-800/[0.3] absolute  z-10 transition-all ease-in duration-300\"), 10);\n    }\n  }, [visible]);\n  const animatedClosePopup = () => {\n    OpacityRef.current.className = \"h-screen w-screen bg-gray-800/[0.0] absolute  z-10 transition-all ease-in duration-300\";\n    PopupRef.current.className = \"scale-0 top-1/2 left-1/2 w-5/6 xl:w-4/6 2xl:w-7/12 absolute z-50 -translate-x-1/2   -translate-y-1/2 bg-stone-200 transition-transform ease-in-out duration-300\";\n    setTimeout(ClosePopup, 300);\n  };\n  console.log(\"ref\", PopupRef);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: OpacityRef,\n      className: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: PopupRef,\n      className: \"scale-0 top-1/2 left-1/2 w-5/6 xl:w-4/6 2xl:w-7/12  z-50 absolute -translate-x-1/2 -translate-y-1/2  bg-stone-200 transition-transform ease-in duration-300\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: animatedClosePopup,\n        className: \"after:content-['\\\\00d7'] after:cursor-pointer after:text-2xl after:text-primary-brown after:hover:text-black after:absolute after:hover:scale-105 after:top-0 after:right-3 md:after:top-2 md:after:right-5 md:after:scale-110 md:after:hover:scale-[1.3]\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"md:p-2 \",\n        children: /*#__PURE__*/_jsxDEV(Content, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true);\n}\n_s(Popup, \"wqNSSqh+rWDPZTmJFNWzbofDP5k=\");\n_c = Popup;\nexport default Popup;\nvar _c;\n$RefreshReg$(_c, \"Popup\");","map":{"version":3,"names":["React","useRef","useEffect","Popup","props","ClosePopup","Content","visible","PopupRef","OpacityRef","handleClickOutside","event","console","log","current","contains","target","animatedClosePopup","document","addEventListener","capture","removeEventListener","setTimeout","className"],"sources":["/home/janxa/Bureau/Projets/Smol/smol/client/src/components/popups/Popup.jsx"],"sourcesContent":["import React  ,{useRef, useEffect} from \"react\";\nfunction Popup(props) {\n  const {ClosePopup,Content,visible} = props;\n  const PopupRef = useRef(null);\n  const OpacityRef = useRef(null)\n\n  useEffect(() => {\n      function handleClickOutside(event) {\n        console.log(PopupRef)\n        if (PopupRef.current && !PopupRef.current.contains(event.target)  ){\n          animatedClosePopup()\n        }\n      }\n      document.addEventListener(\"click\", handleClickOutside,{capture:true});\n      return () => {\n        console.log(\"unmounting\")\n        document.removeEventListener(\"click\", handleClickOutside,{capture:true});\n      };\n    }, [PopupRef]);\n\n    useEffect(()=>{\n    if (visible){\n    setTimeout(()=>(PopupRef.current.className=\"scale-100  rounded-lg p-4 top-1/2 left-1/2 w-5/6 xl:w-4/6 2xl:w-7/12 absolute z-50  -translate-x-1/2 -translate-y-1/2 absolute bg-stone-200 transition-transform ease-in duration-300\",\n    OpacityRef.current.className= \"h-screen w-screen bg-gray-800/[0.3] absolute  z-10 transition-all ease-in duration-300\"),10)\n    }},[visible],\n \n    )\n    \n    const animatedClosePopup= () =>{ \n      OpacityRef.current.className=\"h-screen w-screen bg-gray-800/[0.0] absolute  z-10 transition-all ease-in duration-300\"\n      PopupRef.current.className=\"scale-0 top-1/2 left-1/2 w-5/6 xl:w-4/6 2xl:w-7/12 absolute z-50 -translate-x-1/2   -translate-y-1/2 bg-stone-200 transition-transform ease-in-out duration-300\"\n      setTimeout(ClosePopup,300);\n};\n    console.log(\"ref\",PopupRef)\n\n  return( <><div ref={OpacityRef}className=''></div>\n  <div ref={PopupRef} className= \"scale-0 top-1/2 left-1/2 w-5/6 xl:w-4/6 2xl:w-7/12  z-50 absolute -translate-x-1/2 -translate-y-1/2  bg-stone-200 transition-transform ease-in duration-300\">\n      <span onClick={animatedClosePopup}className=\"after:content-['\\00d7'] after:cursor-pointer after:text-2xl after:text-primary-brown after:hover:text-black after:absolute after:hover:scale-105 after:top-0 after:right-3 md:after:top-2 md:after:right-5 md:after:scale-110 md:after:hover:scale-[1.3]\"></span>\n      <div className=\"md:p-2 \">\n\n      <Content /> \n      </div>\n     </div> \n    \n    </>\n  )\n    \n   \n}\n\nexport default Popup;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,QAAO,OAAO;AAAC;AAAA;AAChD,SAASC,KAAK,CAACC,KAAK,EAAE;EAAA;EACpB,MAAM;IAACC,UAAU;IAACC,OAAO;IAACC;EAAO,CAAC,GAAGH,KAAK;EAC1C,MAAMI,QAAQ,GAAGP,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMQ,UAAU,GAAGR,MAAM,CAAC,IAAI,CAAC;EAE/BC,SAAS,CAAC,MAAM;IACZ,SAASQ,kBAAkB,CAACC,KAAK,EAAE;MACjCC,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;MACrB,IAAIA,QAAQ,CAACM,OAAO,IAAI,CAACN,QAAQ,CAACM,OAAO,CAACC,QAAQ,CAACJ,KAAK,CAACK,MAAM,CAAC,EAAG;QACjEC,kBAAkB,EAAE;MACtB;IACF;IACAC,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAET,kBAAkB,EAAC;MAACU,OAAO,EAAC;IAAI,CAAC,CAAC;IACrE,OAAO,MAAM;MACXR,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;MACzBK,QAAQ,CAACG,mBAAmB,CAAC,OAAO,EAAEX,kBAAkB,EAAC;QAACU,OAAO,EAAC;MAAI,CAAC,CAAC;IAC1E,CAAC;EACH,CAAC,EAAE,CAACZ,QAAQ,CAAC,CAAC;EAEdN,SAAS,CAAC,MAAI;IACd,IAAIK,OAAO,EAAC;MACZe,UAAU,CAAC,OAAKd,QAAQ,CAACM,OAAO,CAACS,SAAS,GAAC,uLAAuL,EAClOd,UAAU,CAACK,OAAO,CAACS,SAAS,GAAE,wFAAwF,CAAC,EAAC,EAAE,CAAC;IAC3H;EAAC,CAAC,EAAC,CAAChB,OAAO,CAAC,CAEX;EAED,MAAMU,kBAAkB,GAAE,MAAK;IAC7BR,UAAU,CAACK,OAAO,CAACS,SAAS,GAAC,wFAAwF;IACrHf,QAAQ,CAACM,OAAO,CAACS,SAAS,GAAC,iKAAiK;IAC5LD,UAAU,CAACjB,UAAU,EAAC,GAAG,CAAC;EAChC,CAAC;EACGO,OAAO,CAACC,GAAG,CAAC,KAAK,EAACL,QAAQ,CAAC;EAE7B,oBAAQ;IAAA,wBAAE;MAAK,GAAG,EAAEC,UAAW;MAAA,SAAS,EAAC;IAAE;MAAA;MAAA;MAAA;IAAA,QAAO,eAClD;MAAK,GAAG,EAAED,QAAS;MAAC,SAAS,EAAE,6JAA6J;MAAA,wBACxL;QAAM,OAAO,EAAES,kBAAmB;QAAA,SAAS,EAAC;MAA0P;QAAA;QAAA;QAAA;MAAA,QAAQ,eAC9S;QAAK,SAAS,EAAC,SAAS;QAAA,uBAExB,QAAC,OAAO;UAAA;UAAA;UAAA;QAAA;MAAG;QAAA;QAAA;QAAA;MAAA,QACL;IAAA;MAAA;MAAA;MAAA;IAAA,QACD;EAAA,gBAEJ;AAIP;AAAC,GA/CQd,KAAK;AAAA,KAALA,KAAK;AAiDd,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}