{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = process.env.REACT_APP_BASE_URL;\nconst API_URL = process.env.REACT_APP_API_URL;\nasync function redirect() {\n  let url = window.location.href;\n  let start = url.indexOf(BASE_URL);\n  let end = start + BASE_URL.length;\n  const short_url = url.substring(0, start - 1) + url.substring(end);\n  if (url != BASE_URL) {\n    try {\n      const res = await axios.get(API_URL + '/api/redirect/' + short_url);\n      window.location.replace(res.data);\n    } catch (e) {\n      window.location.replace(BASE_URL);\n    }\n    ;\n  } else window.location.replace(BASE_URL);\n}\nexport default redirect;","map":{"version":3,"names":["axios","BASE_URL","process","env","REACT_APP_BASE_URL","API_URL","REACT_APP_API_URL","redirect","url","window","location","href","start","indexOf","end","length","short_url","substring","res","get","replace","data","e"],"sources":["/home/janxa/Bureau/Projets/Smol/smol/client/src/services/redirectService.js"],"sourcesContent":["import axios from \"axios\";\nconst BASE_URL = process.env.REACT_APP_BASE_URL;\nconst API_URL= process.env.REACT_APP_API_URL;\n\nasync function redirect(){\n\n    let url = window.location.href;\n    let start = url.indexOf(BASE_URL);\n    let end = start + BASE_URL.length;\n    const short_url= url.substring(0, start - 1) + url.substring(end);\n\n    if (url != BASE_URL){\n        try{\n        const res= await axios.get(API_URL+'/api/redirect/'+short_url);\n        window.location.replace(res.data)\n        }catch (e) {\n            window.location.replace(BASE_URL);\n        };\n     }\n    else window.location.replace(BASE_URL);\n}\nexport default redirect;\n\n\n\n\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB;AAC/C,MAAMC,OAAO,GAAEH,OAAO,CAACC,GAAG,CAACG,iBAAiB;AAE5C,eAAeC,QAAQ,GAAE;EAErB,IAAIC,GAAG,GAAGC,MAAM,CAACC,QAAQ,CAACC,IAAI;EAC9B,IAAIC,KAAK,GAAGJ,GAAG,CAACK,OAAO,CAACZ,QAAQ,CAAC;EACjC,IAAIa,GAAG,GAAGF,KAAK,GAAGX,QAAQ,CAACc,MAAM;EACjC,MAAMC,SAAS,GAAER,GAAG,CAACS,SAAS,CAAC,CAAC,EAAEL,KAAK,GAAG,CAAC,CAAC,GAAGJ,GAAG,CAACS,SAAS,CAACH,GAAG,CAAC;EAEjE,IAAIN,GAAG,IAAIP,QAAQ,EAAC;IAChB,IAAG;MACH,MAAMiB,GAAG,GAAE,MAAMlB,KAAK,CAACmB,GAAG,CAACd,OAAO,GAAC,gBAAgB,GAACW,SAAS,CAAC;MAC9DP,MAAM,CAACC,QAAQ,CAACU,OAAO,CAACF,GAAG,CAACG,IAAI,CAAC;IACjC,CAAC,QAAOC,CAAC,EAAE;MACPb,MAAM,CAACC,QAAQ,CAACU,OAAO,CAACnB,QAAQ,CAAC;IACrC;IAAC;EACJ,CAAC,MACGQ,MAAM,CAACC,QAAQ,CAACU,OAAO,CAACnB,QAAQ,CAAC;AAC1C;AACA,eAAeM,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}