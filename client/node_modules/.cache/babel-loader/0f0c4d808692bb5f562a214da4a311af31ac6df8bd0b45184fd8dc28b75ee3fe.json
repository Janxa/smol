{"ast":null,"code":"import React,{useRef,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Popup(props){var ClosePopup=props.ClosePopup,Content=props.Content,visible=props.visible;var PopupRef=useRef(null);var OpacityRef=useRef(null);useEffect(function(){function handleClickOutside(event){console.log(PopupRef);if(PopupRef.current&&!PopupRef.current.contains(event.target)){animatedClosePopup();}}document.addEventListener(\"click\",handleClickOutside,{capture:true});return function(){console.log(\"unmounting\");document.removeEventListener(\"click\",handleClickOutside,{capture:true});};},[PopupRef]);useEffect(function(){if(visible){setTimeout(function(){return PopupRef.current.className=\"scale-100  rounded-lg p-4 top-1/2 left-1/2 w-5/6 xl:w-4/6 2xl:w-7/12 absolute z-50  -translate-x-1/2 -translate-y-1/2 absolute bg-stone-200 transition-transform ease-in duration-300\",OpacityRef.current.className=\"h-screen w-screen bg-gray-800/[0.3] absolute  z-10 transition-all ease-in duration-300\";},10);}},[visible]);var animatedClosePopup=function animatedClosePopup(){OpacityRef.current.className=\"h-screen w-screen bg-gray-800/[0.0] absolute  z-10 transition-all ease-in duration-300\";PopupRef.current.className=\"scale-0 top-1/2 left-1/2 w-5/6 xl:w-4/6 2xl:w-7/12 absolute z-50 -translate-x-1/2   -translate-y-1/2 bg-stone-200 transition-transform ease-in-out duration-300\";setTimeout(ClosePopup,300);};console.log(\"ref\",PopupRef);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{ref:OpacityRef,className:\"\"}),/*#__PURE__*/_jsxs(\"div\",{ref:PopupRef,className:\"scale-0 top-1/2 left-1/2 w-5/6 xl:w-4/6 2xl:w-7/12  z-50 absolute -translate-x-1/2 -translate-y-1/2  bg-stone-200 transition-transform ease-in duration-300\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:animatedClosePopup,className:\"after:content-['\\\\00d7'] after:cursor-pointer after:text-2xl after:text-primary-brown after:hover:text-black after:absolute after:hover:scale-105 after:top-0 after:right-3 md:after:top-2 md:after:right-5 md:after:scale-110 md:after:hover:scale-[1.3]\"}),/*#__PURE__*/_jsx(\"div\",{className:\"md:p-2 \",children:/*#__PURE__*/_jsx(Content,{})})]})]});}export default Popup;","map":{"version":3,"names":["React","useRef","useEffect","Popup","props","ClosePopup","Content","visible","PopupRef","OpacityRef","handleClickOutside","event","console","log","current","contains","target","animatedClosePopup","document","addEventListener","capture","removeEventListener","setTimeout","className"],"sources":["/home/janxa/Bureau/Projets/Smol/smol/client/src/components/popups/Popup.jsx"],"sourcesContent":["import React  ,{useRef, useEffect} from \"react\";\nfunction Popup(props) {\n  const {ClosePopup,Content,visible} = props;\n  const PopupRef = useRef(null);\n  const OpacityRef = useRef(null)\n\n  useEffect(() => {\n      function handleClickOutside(event) {\n        console.log(PopupRef)\n        if (PopupRef.current && !PopupRef.current.contains(event.target)  ){\n          animatedClosePopup()\n        }\n      }\n      document.addEventListener(\"click\", handleClickOutside,{capture:true});\n      return () => {\n        console.log(\"unmounting\")\n        document.removeEventListener(\"click\", handleClickOutside,{capture:true});\n      };\n    }, [PopupRef]);\n\n    useEffect(()=>{\n    if (visible){\n    setTimeout(()=>(PopupRef.current.className=\"scale-100  rounded-lg p-4 top-1/2 left-1/2 w-5/6 xl:w-4/6 2xl:w-7/12 absolute z-50  -translate-x-1/2 -translate-y-1/2 absolute bg-stone-200 transition-transform ease-in duration-300\",\n    OpacityRef.current.className= \"h-screen w-screen bg-gray-800/[0.3] absolute  z-10 transition-all ease-in duration-300\"),10)\n    }},[visible],\n \n    )\n    \n    const animatedClosePopup= () =>{ \n      OpacityRef.current.className=\"h-screen w-screen bg-gray-800/[0.0] absolute  z-10 transition-all ease-in duration-300\"\n      PopupRef.current.className=\"scale-0 top-1/2 left-1/2 w-5/6 xl:w-4/6 2xl:w-7/12 absolute z-50 -translate-x-1/2   -translate-y-1/2 bg-stone-200 transition-transform ease-in-out duration-300\"\n      setTimeout(ClosePopup,300);\n};\n    console.log(\"ref\",PopupRef)\n\n  return( <><div ref={OpacityRef}className=''></div>\n  <div ref={PopupRef} className= \"scale-0 top-1/2 left-1/2 w-5/6 xl:w-4/6 2xl:w-7/12  z-50 absolute -translate-x-1/2 -translate-y-1/2  bg-stone-200 transition-transform ease-in duration-300\">\n      <span onClick={animatedClosePopup}className=\"after:content-['\\00d7'] after:cursor-pointer after:text-2xl after:text-primary-brown after:hover:text-black after:absolute after:hover:scale-105 after:top-0 after:right-3 md:after:top-2 md:after:right-5 md:after:scale-110 md:after:hover:scale-[1.3]\"></span>\n      <div className=\"md:p-2 \">\n\n      <Content /> \n      </div>\n     </div> \n    \n    </>\n  )\n    \n   \n}\n\nexport default Popup;\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,MAAM,CAAEC,SAAS,KAAO,OAAO,CAAC,6IAChD,QAASC,MAAK,CAACC,KAAK,CAAE,CACpB,GAAOC,WAAU,CAAoBD,KAAK,CAAnCC,UAAU,CAACC,OAAO,CAAYF,KAAK,CAAxBE,OAAO,CAACC,OAAO,CAAIH,KAAK,CAAhBG,OAAO,CACjC,GAAMC,SAAQ,CAAGP,MAAM,CAAC,IAAI,CAAC,CAC7B,GAAMQ,WAAU,CAAGR,MAAM,CAAC,IAAI,CAAC,CAE/BC,SAAS,CAAC,UAAM,CACZ,QAASQ,mBAAkB,CAACC,KAAK,CAAE,CACjCC,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC,CACrB,GAAIA,QAAQ,CAACM,OAAO,EAAI,CAACN,QAAQ,CAACM,OAAO,CAACC,QAAQ,CAACJ,KAAK,CAACK,MAAM,CAAC,CAAG,CACjEC,kBAAkB,EAAE,CACtB,CACF,CACAC,QAAQ,CAACC,gBAAgB,CAAC,OAAO,CAAET,kBAAkB,CAAC,CAACU,OAAO,CAAC,IAAI,CAAC,CAAC,CACrE,MAAO,WAAM,CACXR,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC,CACzBK,QAAQ,CAACG,mBAAmB,CAAC,OAAO,CAAEX,kBAAkB,CAAC,CAACU,OAAO,CAAC,IAAI,CAAC,CAAC,CAC1E,CAAC,CACH,CAAC,CAAE,CAACZ,QAAQ,CAAC,CAAC,CAEdN,SAAS,CAAC,UAAI,CACd,GAAIK,OAAO,CAAC,CACZe,UAAU,CAAC,iBAAKd,SAAQ,CAACM,OAAO,CAACS,SAAS,CAAC,uLAAuL,CAClOd,UAAU,CAACK,OAAO,CAACS,SAAS,CAAE,wFAAwF,EAAC,CAAC,EAAE,CAAC,CAC3H,CAAC,CAAC,CAAC,CAAChB,OAAO,CAAC,CAEX,CAED,GAAMU,mBAAkB,CAAE,QAApBA,mBAAkB,EAAO,CAC7BR,UAAU,CAACK,OAAO,CAACS,SAAS,CAAC,wFAAwF,CACrHf,QAAQ,CAACM,OAAO,CAACS,SAAS,CAAC,iKAAiK,CAC5LD,UAAU,CAACjB,UAAU,CAAC,GAAG,CAAC,CAChC,CAAC,CACGO,OAAO,CAACC,GAAG,CAAC,KAAK,CAACL,QAAQ,CAAC,CAE7B,mBAAQ,wCAAE,YAAK,GAAG,CAAEC,UAAW,UAAS,CAAC,EAAE,EAAO,cAClD,aAAK,GAAG,CAAED,QAAS,CAAC,SAAS,CAAE,6JAA6J,wBACxL,aAAM,OAAO,CAAES,kBAAmB,UAAS,CAAC,2PAA0P,EAAQ,cAC9S,YAAK,SAAS,CAAC,SAAS,uBAExB,KAAC,OAAO,IAAG,EACL,GACD,GAEJ,CAIP,CAEA,cAAed,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}